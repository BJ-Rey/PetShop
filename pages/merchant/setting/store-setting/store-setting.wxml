<!-- pages/merchant/setting/store-setting/store-setting.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="standard-action-bar">
    <text class="standard-back-btn" bindtap="goBack">â†</text>
    <text class="page-title">åº—é“ºè®¾ç½®</text>
  </view>

  <!-- æ‚¬æµ®ä¿å­˜æŒ‰é’® -->
  <view class="floating-save-btn" bindtap="saveStoreSetting">
    <text class="save-icon">ğŸ’¾</text>
    <text>ä¿å­˜</text>
  </view>

  <!-- è¡¨å•å†…å®¹ -->
  <form class="form-container" bindsubmit="saveStoreSetting">
    <!-- åº—é“ºåç§° -->
    <view class="form-item">
      <text class="form-label">åº—é“ºåç§° <text class="required">*</text></text>
      <input 
        class="form-input" 
        name="storeName" 
        placeholder="è¯·è¾“å…¥åº—é“ºåç§°" 
        value="{{storeInfo.name}}" 
        bindinput="onInputChange" 
        data-field="name"
        maxlength="50"
      />
      <text class="error-text">{{errors.name}}</text>
    </view>

    <!-- åº—é“ºæè¿° -->
    <view class="form-item">
      <text class="form-label">åº—é“ºæè¿°</text>
      <textarea 
        class="form-textarea" 
        name="description" 
        placeholder="è¯·è¾“å…¥åº—é“ºæè¿°" 
        value="{{storeInfo.description}}" 
        bindinput="onInputChange" 
        data-field="description"
        maxlength="200"
        auto-height
      />
      <text class="error-text">{{errors.description}}</text>
    </view>

    <!-- åº—é“ºå…¬å‘Š -->
    <view class="form-item">
      <text class="form-label">åº—é“ºå…¬å‘Š</text>
      <textarea 
        class="form-textarea" 
        name="announcement" 
        placeholder="è¯·è¾“å…¥åº—é“ºå…¬å‘Š" 
        value="{{storeInfo.announcement}}" 
        bindinput="onInputChange" 
        data-field="announcement"
        maxlength="300"
        auto-height
      />
      <text class="error-text">{{errors.announcement}}</text>
    </view>

    <!-- ä¸»è¥ç±»ç›® -->
    <view class="form-item">
      <text class="form-label">ä¸»è¥ç±»ç›® <text class="required">*</text></text>
      <picker 
        class="form-picker" 
        name="mainCategory" 
        range="{{categories}}" 
        value="{{selectedCategoryIndex}}"
        bindchange="onCategoryChange"
      >
        <view class="picker-text">{{storeInfo.mainCategory || 'è¯·é€‰æ‹©ä¸»è¥ç±»ç›®'}}</view>
      </picker>
      <text class="error-text">{{errors.mainCategory}}</text>
    </view>

    <!-- åº—é“ºçŠ¶æ€ -->
    <view class="form-item">
      <text class="form-label">åº—é“ºçŠ¶æ€</text>
      <view class="status-switch">
        <text class="status-text">{{storeInfo.status === 'open' ? 'è¥ä¸šä¸­' : 'å·²å…³é—­'}}</text>
        <switch 
          checked="{{storeInfo.status === 'open'}}" 
          bindchange="toggleStatus"
        />
      </view>
    </view>

    <!-- è¥ä¸šæ—¶é—´æ˜¾ç¤º -->
    <view class="form-item">
      <text class="form-label">è¥ä¸šæ—¶é—´</text>
      <view class="business-hours-display" bindtap="editBusinessHours">
        <text class="hours-text">{{businessHoursText}}</text>
        <text class="edit-arrow">â†’</text>
      </view>
    </view>
  </form>
</view>
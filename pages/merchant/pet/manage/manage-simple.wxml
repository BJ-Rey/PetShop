<!-- pages/merchant/pet/manage/manage-simple.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="standard-action-bar">
    <text class="standard-back-btn" bindtap="goBack">â†</text>
    <text class="page-title">å® ç‰©ç®¡ç†</text>
  </view>

  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <input 
      class="search-input" 
      placeholder="æœç´¢å® ç‰©åç§°ã€å“ç§.." 
      value="{{filters.keyword}}" 
      bindinput="onSearchInput"
      bindconfirm="onSearchConfirm"
    />
    <button class="add-btn" type="primary" bindtap="addPet">+ æ·»åŠ å® ç‰©</button>
  </view>
  
  <!-- ç­›é€‰å™¨ -->
  <view class="filter-bar">
    <!-- çŠ¶æ€ç­›é€‰ -->
    <view class="filter-item">
      <text class="filter-label">çŠ¶æ€</text>
      <view class="filter-options">
        <view 
          class="filter-option {{filters.status === 'all' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="status" 
          data-value="all"
        >å…¨éƒ¨</view>
        <view 
          class="filter-option {{filters.status === 'published' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="status" 
          data-value="published"
        >å·²ä¸Šæ¶</view>
        <view 
          class="filter-option {{filters.status === 'unpublished' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="status" 
          data-value="unpublished"
        >å·²ä¸‹æ¶</view>
      </view>
    </view>
    
    <!-- ä¸‹å®šçŠ¶æ€ç­›é€‰ -->
    <view class="filter-item">
      <text class="filter-label">ä¸‹å®šçŠ¶æ€</text>
      <view class="filter-options">
        <view 
          class="filter-option {{filters.hasOrder === 'all' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="hasOrder" 
          data-value="all"
        >å…¨éƒ¨</view>
        <view 
          class="filter-option {{filters.hasOrder === 'true' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="hasOrder" 
          data-value="true"
        >æœ‰äººä¸‹å®š</view>
        <view 
          class="filter-option {{filters.hasOrder === 'false' ? 'active' : ''}}" 
          bindtap="changeFilter" 
          data-type="hasOrder" 
          data-value="false"
        >æ— äººä¸‹å®š</view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading" wx:if="{{isLoading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:elif="{{pets.length === 0}}">
    <text class="empty-icon">ğŸ¶</text>
    <text class="empty-text">æš‚æ— å® ç‰©æ•°æ®</text>
    <button class="empty-btn" type="primary" bindtap="addPet">æ·»åŠ å® ç‰©</button>
  </view>

  <!-- å® ç‰©åˆ—è¡¨ -->
  <view class="pet-list" wx:else>
    <view class="pet-item" wx:for="{{pets}}" wx:key="id">
      <!-- å® ç‰©åŸºæœ¬ä¿¡æ¯ -->
      <view class="pet-info">
        <image src="{{item.avatar}}" class="pet-avatar" mode="aspectFill"></image>
        <view class="pet-details">
          <view class="pet-header">
            <text class="pet-name">{{item.name}}</text>
            <view class="status-container">
              <text class="pet-status {{item.status}}">
                {{item.status === 'published' ? 'å·²ä¸Šæ¶' : 'å·²ä¸‹æ¶'}}
              </text>
              <text class="pet-status has-order" wx:if="{{item.hasOrder}}">
                æœ‰äººä¸‹å®š
              </text>
            </view>
          </view>
          <text class="pet-meta">{{item.breed}} - {{item.age}} - {{item.gender === 'male' ? 'å…¬' : 'æ¯'}} - {{item.color}}</text>
          <view class="pet-price-container">
            <view class="pet-price">Â¥{{item.price}}</view>
            <view class="pet-deposit">å®šé‡‘ï¼šÂ¥{{item.deposit}}</view>
          </view>
        </view>
      </view>
      
      <!-- æ“ä½œåŒºåŸŸ -->
      <view class="pet-actions">
        <view class="action-buttons">
          <button class="action-btn edit-btn" bindtap="editPet" data-id="{{item.id}}">ç¼–è¾‘</button>
          <button class="action-btn view-btn" bindtap="viewPetDetail" data-id="{{item.id}}">æŸ¥çœ‹è¯¦æƒ…</button>
        </view>
      </view>
    </view>
  </view>
</view>

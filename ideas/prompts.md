## 2026-01-09

## 用户反馈
1. 精选猫咪出现两次

## 分析
用户反馈商城列表页中“精选猫咪”标题出现了两次。
查看代码发现 `pages/mall/list/list.wxml` 中，外层有一个通用的 `section-header` 显示“精选猫咪”，而内部的 `hot-products` 组件中又包含了一个“精选猫咪”的标题。

## 解决方案
重构 `list.wxml` 结构：
1. 移除外层通用的 `section-header`。
2. 在“精选猫咪”板块（横向滚动）内部保留其标题。
3. 在普通猫咪列表上方添加“全部猫咪”标题。
4. 在商品列表上方添加“全部商品”标题。

## 用户反馈
登录后并没有按照用户类型跳转到对应的页面

## 分析
用户反馈登录后跳转逻辑有误。
可能原因：
1. 后端返回的角色字段 `role` 不正确。
2. 前端跳转逻辑判断 `userInfo.role === 'merchant'` 失效。
3. 缺少 Mock 数据导致无法在本地验证不同角色的跳转。

## 解决方案
1. 在 `utils/auth.js` 中添加模拟登录逻辑，根据特定手机号返回不同角色。
   - 手机号 `13800138000` -> 商家 (`merchant`)
   - 其他手机号 -> 普通用户 (`user`)
2. 确保 `pages/login/login.js` 正确处理 `userInfo` 并执行跳转。

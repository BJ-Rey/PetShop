<!-- pages/merchant/index/index.wxml -->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="standard-action-bar">
    <text class="standard-back-btn" bindtap="navigateBack">è¿”å›</text>
    <text class="page-title">å•†å®¶æ§åˆ¶å°</text>
  </view>

  <!-- å•†å®¶ä¿¡æ¯å¡ç‰‡ -->
  <view class="merchant-card card">
    <view class="merchant-header">
      <image src="{{merchantInfo.logo}}" class="merchant-logo"></image>
      <view class="merchant-basic-info">
        <text class="merchant-name">{{merchantInfo.name}}</text>
        <text class="merchant-phone">{{merchantInfo.phone}}</text>
        <text class="merchant-address">{{merchantInfo.address}}</text>
      </view>
    </view>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-section">
    <view class="stat-card card">
      <text class="stat-icon">ğŸ¶</text>
      <view class="stat-content">
        <text class="stat-value">{{stats.pets}}</text>
        <text class="stat-label">å® ç‰©æ•°é‡</text>
      </view>
    </view>
    <view class="stat-card card">
      <text class="stat-icon">ğŸ›ï¸</text>
      <view class="stat-content">
        <text class="stat-value">{{stats.products}}</text>
        <text class="stat-label">å•†å“æ•°é‡</text>
      </view>
    </view>
    <view class="stat-card card">
      <text class="stat-icon">ğŸ“‹</text>
      <view class="stat-content">
        <text class="stat-value">{{stats.orders}}</text>
        <text class="stat-label">è®¢å•æ•°é‡</text>
      </view>
    </view>
    <view class="stat-card card">
      <text class="stat-icon">ğŸ‘¥</text>
      <view class="stat-content">
        <text class="stat-value">{{stats.customers}}</text>
        <text class="stat-label">å®¢æˆ·æ•°é‡</text>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="section-title">ç®¡ç†åŠŸèƒ½</view>
    <view class="menu-grid">
      <block wx:for="{{menuItems}}" wx:key="id">
        <view class="menu-item card" bindtap="navigateToPage" data-url="{{item.url}}">
          <text class="menu-icon">{{item.icon}}</text>
          <text class="menu-name">{{item.name}}</text>
          <view class="menu-badge" wx:if="{{item.badge > 0}}">{{item.badge}}</view>
        </view>
      </block>
    </view>
  </view>

  <!-- æœ€è¿‘è®¢å• -->
  <view class="orders-section card">
    <view class="section-title">
      <text>æœ€è¿‘è®¢å•</text>
      <text class="more-link" bindtap="navigateToPage" data-url="/pages/merchant/order/order">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    <view class="order-list">
      <block wx:for="{{recentOrders}}" wx:key="id">
        <view class="order-item" bindtap="navigateToOrderDetail" data-id="{{item.id}}">
          <view class="order-header">
            <text class="order-id">è®¢å•å·: {{item.id}}</text>
            <text class="order-status">{{item.status === 'pending' ? 'å¾…å¤„ç†' : item.status === 'shipped' ? 'å·²å‘è´§' : 'å·²å®Œæˆ'}}</text>
          </view>
          <view class="order-content">
            <text class="customer-name">{{item.customerName}}</text>
            <text class="product-name">{{item.productName}}</text>
          </view>
          <view class="order-footer">
            <text class="order-amount">Â¥{{item.amount}}</text>
            <text class="order-date">{{item.date}}</text>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
  <view class="logout-section">
    <button class="logout-button" type="warn" bindtap="logout">é€€å‡ºç™»å½•</button>
  </view>
</view>
